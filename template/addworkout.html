<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Workout</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container">
    <div class="header" style="background-color: white; padding: 10px; display: flex; justify-content: space-between; align-items: center;">
        <h1 style="color: #d92cf9; margin-left: 10px;">FITUP</h1>
        <div>
            {% if trainer.is_authenticated %} 
                <p class="mb-0"><span class="text-muted">Welcome, {{ trainer.username }}</span></p>
            {% endif %}
        </div>
        <div class="back-button">
            <a href="{% url 'trainerhome' %}" class="btn btn-light">Back</a>
        </div>
    </div>

    <h1 class="mt-5">Add Workout</h1>
    <div id="error-message" class="alert alert-danger d-none" role="alert">
        Please fill out all fields.
    </div>
    <form id="add-workout-form" method="post" action="{% url 'addworkout' %}" class="mt-3">
        {% csrf_token %}
        
        <label for="week">Select Week:</label>
        <select id="week" name="week" class="form-select mb-3">
            <option value="">Select</option>
            <option value="week1" {% if submitted_week == 'week1' %} selected {% endif %}>Week 1</option>
            <option value="week2" {% if submitted_week == 'week2' %} selected {% endif %}>Week 2</option>
            <option value="week3" {% if submitted_week == 'week3' %} selected {% endif %}>Week 3</option>
            <option value="week4" {% if submitted_week == 'week4' %} selected {% endif %}>Week 4</option>
            <option value="week5" {% if submitted_week == 'week5' %} selected {% endif %}>Week 5</option>
            <option value="week6" {% if submitted_week == 'week6' %} selected {% endif %}>Week 6</option>
            <option value="week7" {% if submitted_week == 'week7' %} selected {% endif %}>Week 7</option>
            <option value="week8" {% if submitted_week == 'week8' %} selected {% endif %}>Week 8</option>
            <option value="week9" {% if submitted_week == 'week9' %} selected {% endif %}>Week 9</option>
            <option value="week10" {% if submitted_week == 'week10' %} selected {% endif %}>Week 10</option>
            <option value="week11" {% if submitted_week == 'week11' %} selected {% endif %}>Week 11</option>
            <option value="week12" {% if submitted_week == 'week12' %} selected {% endif %}>Week 12</option>
        </select>

        <label for="workoutName">Workout Name:</label>
        <input type="text" id="workoutName" name="workoutName" class="form-control mb-3" placeholder="Enter workout name..." value="{% if submitted_workout_name %}{{ submitted_workout_name }}{% endif %}">

        <label for="workoutDetails">Workout Details:</label>
        <textarea id="workoutDetails" name="workoutDetails" class="form-control mb-3" placeholder="Enter workout details...">{% if submitted_workout_details %}{{ submitted_workout_details }}{% endif %}</textarea>

        <button type="submit" id="submit-btn" class="btn btn-primary">Submit</button>
    </form>
</div>

<script>
document.getElementById('add-workout-form').addEventListener('submit', function(event) {
    var week = document.getElementById("week").value;
    var workoutName = document.getElementById("workoutName").value.trim();
    var workoutDetails = document.getElementById("workoutDetails").value.trim();

    if (!week || !workoutName || !workoutDetails) {
        event.preventDefault();
        document.getElementById('error-message').classList.remove('d-none');
    } else {
        document.getElementById('error-message').classList.add('d-none');
        document.getElementById("week").value = "";
        document.getElementById("workoutName").value = "";
        document.getElementById("workoutDetails").value = "";
    }
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
